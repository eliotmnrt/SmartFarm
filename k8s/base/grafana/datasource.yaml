apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-datasources
  namespace: fiware-platform
data:
  cratedb.yaml: |
    apiVersion: 1
    datasources:
      - name: CrateDB
        type: postgres
        uid: CrateDB              # ðŸ‘ˆ CRITIQUE : Force l'ID utilisÃ© dans le Dashboard
        url: cratedb:5432
        user: crate
        database: doc
        access: proxy
        isDefault: true
        editable: true
        jsonData:
          sslmode: "disable"
          postgresVersion: 1200
          database: "doc"
        secureJsonData:
          password: ""

  infinity.yaml: |
    apiVersion: 1
    datasources:
      - name: Orion Live (Infinity)
        type: yesoreyeram-infinity-datasource
        uid: OrionLive                        # CRITIQUE
        access: proxy
        url: http://orion:1026
        isDefault: false
        basicAuth: false
        jsonData:
          allowedHosts:
            - "http://orion:1026"